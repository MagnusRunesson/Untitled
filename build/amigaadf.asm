	org 			$0
	
	; commodore includes
	include		"hardware/adkbits.i"
	include		"hardware/blit.i"
	include		"hardware/cia.i"
	include		"hardware/custom.i"
	include		"hardware/dmabits.i"
	include		"hardware/intbits.i"
	include		"exec/exec.i"
	include		"devices/trackdisk.i"
	; includes created from commodores C-header files
	include		"exec_lib.i"
	include		"graphics_lib.i"
	
	; local includes
	include		"../src/platform/amiga/const.asm"
	include		"../src/platform/amiga/macros.asm"

	
bootblockbegin
build_comment_address_offset_00005c40
	include		"../src/platform/amiga/bootblock.asm"
bootblockend

mainbegin
build_comment_address_offset_0000a498
	include		"../src/structs.asm"
	include		"../src/macros.asm"
	include		"../src/platform/amiga/sys.asm"
	include		"../src/platform/amiga/trackloader.asm"
	include		"../src/main.asm"
	include		"../src/core/mem.asm"
	include		"../src/core/gameobjectmanager.asm"
	include		"../src/platform/amiga/inp.asm"
	include		"../src/platform/amiga/rend.asm"
	include		"../src/platform/amiga/mem.asm"
	include		"../src/platform/amiga/file.asm"
	include		"../src/platform/amiga/img.asm"
	include		"../src/platform/amiga/resource.asm"

	; Generated by BigTool
	include		"../src/incbin/files.asm"
	include		"../src/incbin/fileidmap_adf.asm"
	;include		"../src/incbin/datasta_adf.asm"
	include		"../src/incbin/overworld_goc_identifiers.asm"	; This should really be included by something else. Preferrably by data.asm
	include		"../src/incasm/data.asm"
	
	cnop		0,_chunk_size
	
mainend

workmembegin

TrackdiskMfmBuffer	
	dcb.w		12800/2,$FBFF			; mFmBuFFer
	;dc.b		'TrackdiskMfmBufferSafe'
	cnop		0,_chunk_size

TrackdiskTrackBuffer
	dcb.w		512*11/2,$ACBF			; trACkBuFfer
	;dc.b		'TrackdiskTrackBufferSafe'
	cnop		0,_chunk_size

BitplaneMem
	dcb.w		64*64*8*8*4/8/2,$BAEE	; BitplAnEmEm
	;dc.b		'BitplaneMemSafe'
	cnop		0,_chunk_size,1

TilebankMem
	dcb.w		1+256*32/2,$EBAE		; tilEBAnkmEm
	;dc.b		'TilebankMemSafe'
	cnop		0,_chunk_size

TilemapMem
	dcb.w		2+(64*64),$0EAE			; tilEmApmEm
	;dc.b		'TilemapMemSafe'
	cnop		0,_chunk_size

PaletteMem
	dcb.w		16,$AEEE				; pAlEttEmEm
	;dc.b		'PaletteMemSafe'
	cnop		0,_chunk_size

SpriteFileMem
	dcb.w		100*1024/2,$EFEE		; spritEFilEmEm
	;dc.b		'SpriteFileMem'
	cnop		0,_chunk_size
SpriteFileMemEnd

SharedWorkMem
	dcb.w		totalmem_size/2,$AEDE	;shArEDworkmEm
	;dc.b		'SharedWorkMemSafe'
	cnop		0,_chunk_size

workmemend

	printt
	printt '==[ Amiga ram usage info ]======'
	printt '==[ ram allocation size'
	printv amiga_ram_alloc_size
	printt '==[ ram usage'
	printv workmemend-mainbegin
	printt '==[ code size'
	printv mainend-mainbegin
	printt '==[ workmem size'
	printv workmemend-workmembegin

	if (workmemend-mainbegin)>amiga_ram_alloc_size
		fail 'ERROR: Ram usage exceeds allocation size!'
	endif


databegin
	; Generated by BigTool
	include		"../src/incbin/datadyn_adf.asm"
	include		"../src/incbin/datasta_adf.asm"	; remove me!
dataend
